# syntax=docker/dockerfile:1

FROM node:14.16.1

ENV NODE_ENV=production
ENV MONGODB_URI=mongodb+srv://uthdadmin:fUTc749JLYjCGLzY31L7BR5Eb@cluster0.g5ext.mongodb.net/myFirstDatabase?retryWrites=true&w=majority
ENV BOT_TOKEN=ODM1OTUwNTA4MjcwMjg4OTc3.YIW5lA.sZ5dhAHJ9sIe9Epge6xNy6XfBtA
ENV ROLE_ID_COMP_ONE=836300348346990642
ENV ROLE_ID_COMP_TWO=836300391952023582
ENV ROLE_ID_SCRIM_ONE=836300426881007676
ENV ROLE_ID_SCRIM_TWO=836300467524599890
ENV VC_ID_COMP_ONE=833896324683530251
ENV VC_ID_COMP_TWO=833896732647096370
ENV VC_ID_SCRIM_ONE=833891812711333928

WORKDIR /app

COPY ["package.json", "package-lock.json*", "./"]

RUN npm install --production

COPY . .

CMD [ "node", "bot.js" ]